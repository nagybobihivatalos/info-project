<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Casino Blackjack</title>

<style>
:root {
  --green:#22c55e;
  --red:#ef4444;
  --bg:#020617;
  --felt:#065f46;
}

* { box-sizing:border-box; font-family:Inter,system-ui }

body {
  margin:0;
  background:radial-gradient(circle at top,#1e293b,#020617);
  color:#e5e7eb;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.table {
  width:100%;
  max-width:1000px;
  background:radial-gradient(circle at center,#0f766e,#064e3b);
  border-radius:50% 50% 20px 20px;
  padding:40px;
  box-shadow:0 40px 80px rgba(0,0,0,.7);
  position:relative;
}

/* DEALER */
.dealer {
  text-align:center;
  margin-bottom:30px;
}

.dealer img {
  width:120px;
  animation: idle 3s infinite ease-in-out;
}

@keyframes idle {
  0%,100% { transform:translateY(0) }
  50% { transform:translateY(-6px) }
}

/* CARDS */
.cards {
  display:flex;
  justify-content:center;
  gap:12px;
  min-height:120px;
}

.card {
  width:80px;
  height:120px;
  background:linear-gradient(145deg,#334155,#0f172a);
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.6rem;
  font-weight:700;
  animation: deal .4s ease;
}

.card.back {
  background:linear-gradient(145deg,#1e3a8a,#020617);
}

@keyframes deal {
  from { transform:translateY(-30px) scale(.8); opacity:0 }
  to { transform:none; opacity:1 }
}

/* PLAYER */
.player {
  margin-top:40px;
  text-align:center;
}

/* CONTROLS */
.controls {
  display:flex;
  gap:12px;
  margin-top:20px;
}

button {
  flex:1;
  padding:14px;
  font-size:1rem;
  border:none;
  border-radius:14px;
  font-weight:700;
  cursor:pointer;
}

.hit { background:#22c55e; }
.stand { background:#38bdf8; }
.bet { background:#facc15; }
button:disabled { opacity:.4 }

/* BET */
.bet-area {
  text-align:center;
  margin-bottom:10px;
}

.bet-area span {
  font-weight:700;
}

/* MODAL */
.modal {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  justify-content:center;
  align-items:center;
  opacity:0;
  pointer-events:none;
  transition:.3s;
}

.modal.show {
  opacity:1;
  pointer-events:auto;
}

.modal-box {
  padding:40px;
  border-radius:20px;
  font-size:2rem;
  font-weight:800;
  animation: pop .4s ease;
}

@keyframes pop {
  from { transform:scale(.7); opacity:0 }
  to { transform:scale(1); opacity:1 }
}

.win { background:var(--green); color:#022c22 }
.lose { background:var(--red); color:#450a0a }
</style>
</head>

<body>

<div class="table">

  <div class="dealer">
    <img src="https://i.imgur.com/4M7IWwP.png">
    <div class="cards" id="dealerCards"></div>
  </div>

  <div class="bet-area">
    ðŸ’° Zseton: <span id="money">1000</span> |
    TÃ©t: <span id="bet">100</span>
  </div>

  <div class="player">
    <div class="cards" id="playerCards"></div>

    <div class="controls">
      <button class="bet" id="betBtn">+ TÃ©t</button>
      <button class="hit" id="hitBtn">Hit</button>
      <button class="stand" id="standBtn">Stand</button>
    </div>
  </div>
</div>

<div class="modal" id="modal">
  <div class="modal-box" id="modalBox"></div>
</div>

<script>
const suits=['â™ ','â™¥','â™¦','â™£'];
const ranks=['2','3','4','5','6','7','8','9','10','J','Q','K','A'];

let deck,player,dealer,hiddenCard;
let money=1000,bet=100;

const pc=document.getElementById('playerCards');
const dc=document.getElementById('dealerCards');
const moneyEl=document.getElementById('money');
const betEl=document.getElementById('bet');
const modal=document.getElementById('modal');
const modalBox=document.getElementById('modalBox');

function createDeck(){
  return suits.flatMap(s=>ranks.map(r=>({s,r})))
    .sort(()=>Math.random()-0.5);
}

const val=c=>['J','Q','K'].includes(c.r)?10:c.r==='A'?11:+c.r;

const score=h=>{
  let s=0,a=0;
  h.forEach(c=>{s+=val(c);if(c.r==='A')a++});
  while(s>21&&a--)s-=10;
  return s;
};

const draw=()=>deck.pop();

function cardEl(c,back=false){
  const d=document.createElement('div');
  d.className='card'+(back?' back':'');
  d.textContent=back?'':c.r+c.s;
  return d;
}

function render(){
  pc.innerHTML='';
  dc.innerHTML='';
  player.forEach(c=>pc.appendChild(cardEl(c)));
  dealer.forEach((c,i)=>dc.appendChild(cardEl(c,i===1&&hiddenCard)));
  moneyEl.textContent=money;
  betEl.textContent=bet;
}

async function dealerTurn(){
  hiddenCard=false;
  render();
  while(score(dealer)<17){
    await new Promise(r=>setTimeout(r,800));
    dealer.push(draw());
    render();
  }
  finish();
}

function finish(){
  const p=score(player),d=score(dealer);
  if(p>21|| (d<=21&&d>p)) lose();
  else if(d>21||p>d) win();
  else drawGame();
}

function win(){
  money+=bet;
  showModal('NYERTÃ‰L!',true);
}

function lose(){
  money-=bet;
  showModal('VESZTETTÃ‰L!',false);
}

function drawGame(){
  showModal('DÃ–NTETLEN',true);
}

function showModal(text,win){
  modalBox.textContent=text;
  modalBox.className='modal-box '+(win?'win':'lose');
  modal.classList.add('show');
  setTimeout(()=>{modal.classList.remove('show');start()},2000);
}

function start(){
  deck=createDeck();
  player=[draw(),draw()];
  dealer=[draw(),draw()];
  hiddenCard=true;
  render();
}

document.getElementById('hitBtn').onclick=()=>{
  player.push(draw());
  render();
  if(score(player)>21) lose();
};

document.getElementById('standBtn').onclick=dealerTurn;
document.getElementById('betBtn').onclick=()=>{
  if(bet+50<=money) bet+=50;
  render();
};

start();
</script>
</body>
</html>
